def test_pmc_text_extraction(mock_pubmed_client):
    """Test PMC text extraction with example data."""
    # Example PMC XML response
    example_xml = """<?xml version="1.0" encoding="UTF-8"?><OAI-PMH
    xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"><responseDate>2025-04-30T18:30:48Z</responseDate><request verb="GetRecord" identifier="oai:pubmedcentral.nih.gov:11845722" metadataPrefix="pmc">https:/www.ncbi.nlm.nih.gov/pmc/oai/oai.cgi</request><GetRecord><record><header><identifier>oai:pubmedcentral.nih.gov:11845722</identifier><datestamp>2025-02-22</datestamp><setSpec>scirep</setSpec><setSpec>pmc-open</setSpec></header><metadata><article xmlns="https://jats.nlm.nih.gov/ns/archiving/1.3/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:ali="http://www.niso.org/schemas/ali/1.0/" xsi:schemaLocation="https://jats.nlm.nih.gov/ns/archiving/1.3/ https://jats.nlm.nih.gov/archiving/1.3/xsd/JATS-archivearticle1-3.xsd" article-type="research-article" dtd-version="1.3">
    <front><journal-meta><journal-id journal-id-type="nlm-ta">Sci Rep</journal-id><journal-id journal-id-type="iso-abbrev">Sci Rep</journal-id><journal-title-group><journal-title>Scientific Reports</journal-title></journal-title-group><issn pub-type="epub">2045-2322</issn><publisher><publisher-name>Nature Publishing Group UK</publisher-name><publisher-loc>London</publisher-loc></publisher></journal-meta>
<article-meta><article-id pub-id-type="accession">PMC11845722</article-id><article-id pub-id-type="pmcid">PMC11845722</article-id><article-id pub-id-type="pmc-uid">11845722</article-id><article-id pub-id-type="pmid">39984619</article-id><article-id pub-id-type="pmid">39984619</article-id>
<article-id pub-id-type="publisher-id">90121</article-id><article-id pub-id-type="doi">10.1038/s41598-025-90121-0</article-id><article-categories><subj-group subj-group-type="heading"><subject>Article</subject></subj-group></article-categories><title-group><article-title>Pan-cancer analysis identifies ADAM12 as a prognostic biomarker and indicator of immune infiltration in glioma</article-title></title-group><contrib-group><contrib contrib-type="author" equal-contrib="yes"><name><surname>Lv</surname><given-names>Peng</given-names></name><xref ref-type="aff" rid="Aff1">1</xref><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author" equal-contrib="yes"><name><surname>Zhang</surname><given-names>Yanbin</given-names></name><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author" equal-contrib="yes"><name><surname>Wu</surname><given-names>Wenjie</given-names></name><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author" corresp="yes"><name><surname>Jiang</surname><given-names>Xiaobing</given-names></name><address><email>jiangxiaobing917@163.com</email></address><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author" corresp="yes"><name><surname>Xiang</surname><given-names>Wei</given-names></name><address><email>xiangwei20@hotmail.com</email></address><xref ref-type="aff" rid="Aff1">1</xref></contrib><aff id="Aff1"><label>1</label><institution-wrap><institution-id institution-id-type="ROR">https://ror.org/00p991c53</institution-id><institution-id institution-id-type="GRID">grid.33199.31</institution-id><institution-id institution-id-type="ISNI">0000 0004 0368 7223</institution-id><institution>Department of Neurosurgery, Union Hospital, Tongji Medical College, </institution><institution>Huazhong University of Science and Technology, </institution></institution-wrap>Jiefang Avenue NO.1277, Wuhan, 430022 Hubei Province China </aff><aff id="Aff2"><label>2</label><institution-wrap><institution-id institution-id-type="ROR">https://ror.org/00p991c53</institution-id><institution-id institution-id-type="GRID">grid.33199.31</institution-id><institution-id institution-id-type="ISNI">0000 0004 0368 7223</institution-id><institution>Hubei Key Laboratory of Biological Targeted Therapy, Union Hospital, Tongji Medical College, </institution><institution>Huazhong University of Science and Technology, </institution></institution-wrap>Wuhan, 430022 China </aff></contrib-group><pub-date pub-type="epub"><day>21</day><month>2</month><year>2025</year></pub-date><pub-date pub-type="pmc-release"><day>21</day><month>2</month><year>2025</year></pub-date><pub-date pub-type="collection"><year>2025</year></pub-date><volume>15</volume><elocation-id>6314</elocation-id><history><date date-type="received"><day>20</day><month>11</month><year>2024</year></date><date date-type="accepted"><day>11</day><month>2</month><year>2025</year></date></history><permissions><copyright-statement>© The Author(s) 2025</copyright-statement><copyright-year>2025</copyright-year><license><ali:license_ref specific-use="textmining" content-type="ccbyncndlicense">https://creativecommons.org/licenses/by-nc-nd/4.0/</ali:license_ref><license-p><bold>Open Access</bold> This article is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License, which permits any non-commercial use, sharing, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if you modified the licensed material. You do not have permission under this licence to share adapted material derived from this article or parts of it. The images or other third party material in this article are included in the article's Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article's Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit <ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by-nc-nd/4.0/">http://creativecommons.org/licenses/by-nc-nd/4.0/</ext-link>.</license-p></license></permissions><abstract id="Abs1"><p id="Par1">ADAM12, part of the adisintegrin and metalloproteases (ADAMs) family, has been widely reported in recent years to be associated with various malignant tumor behaviors, including migration, invasion, and treatment resistance. However, its role at the pan-cancer level remains insufficiently characterized. In this study, pan-cancer data were utilized to elucidate the expression patterns, prognostic significance, and potential roles of ADAM12 within the tumor immune microenvironment. An in-depth analysis of ADAM12 in gliomas was also conducted. Our findings revealed that ADAM12 expression is markedly overexpressed in glioma tissues, enhances glioma cell malignancy, and is associated with a worse prognosis. These results suggest that ADAM12 may serve as a biomarker for predicting glioma malignancy and patient prognosis, as well as a potential therapeutic target in glioma treatment.</p></abstract><kwd-group xml:lang="en"><title>Keywords</title><kwd>ADAM12</kwd><kwd>Pan-cancer</kwd><kwd>Glioma</kwd><kwd>Biomarker</kwd><kwd>Immune microenvironment</kwd></kwd-group><kwd-group kwd-group-type="npg-subject"><title>Subject terms</title><kwd>Cancer</kwd><kwd>Computational biology and bioinformatics</kwd><kwd>Molecular biology</kwd><kwd>Neuroscience</kwd></kwd-group><funding-group><award-group><funding-source><institution>Open Foundation of Hubei Key Laboratory of Biological Targeted Therapy</institution></funding-source><award-id>202404</award-id><principal-award-recipient><name><surname>Lv</surname><given-names>Peng</given-names></name></principal-award-recipient></award-group></funding-group><custom-meta-group><custom-meta><meta-name>issue-copyright-statement</meta-name><meta-value>© Springer Nature Limited 2025</meta-value></custom-meta></custom-meta-group></article-meta></front>
    <body>
    <sec id="Sec1">
      <title>Introduction</title>
      <p id="Par2">Cancer remains one of the leading causes of mortality worldwide. While cancer incidence rates vary across countries with differing income levels, it negatively impacts life expectancy in all regions<sup><xref ref-type="bibr" rid="CR1">1</xref></sup>. Traditional cancer treatments primarily include surgical resection, chemotherapy, and radiotherapy. However, recent advances have led to the development of new treatments, such as immunotherapy and oncolytic viruses<sup><xref ref-type="bibr" rid="CR2">2</xref>–<xref ref-type="bibr" rid="CR4">4</xref></sup>. Despite these advancements, the heterogeneity among patients with different cancers remains a significant challenge. For instance, CAR-T therapy has shown promising results in hematological tumors but faces challenges in treating solid tumors<sup><xref ref-type="bibr" rid="CR5">5</xref>–<xref ref-type="bibr" rid="CR7">7</xref></sup>. Additionally, patients with the same tumor type can exhibit varying responses to the same treatment<sup><xref ref-type="bibr" rid="CR2">2</xref>,<xref ref-type="bibr" rid="CR8">8</xref></sup>. Although cancer types differ in their mechanisms of development, they share common characteristics, such as uncontrolled proliferation, increased invasiveness, and immune evasion<sup><xref ref-type="bibr" rid="CR9">9</xref></sup>. Therefore, pan-cancer studies may uncover both commonalities and differences among cancers, potentially leading to the identification of novel therapeutic targets and biomarkers.</p>
    </sec>
    </body>
    </article>
    </metadata></record></GetRecord></OAI-PMH>"""  # noqa: E501, RUF001

    # Configure the mock response
    mock_pubmed_client.set_pmc_response(example_xml)

    # Test the text extraction
    text = mock_pubmed_client._get_plaintext_from_pmc("11845722")

    # Verify the extracted text
    assert text is not None, "Text extraction failed"
    assert "ADAM12" in text, "Abstract not extracted"
    assert "Introduction" in text, "Section title not extracted"
    assert "Cancer remains one of the leading causes" in text, "Body text not extracted"
